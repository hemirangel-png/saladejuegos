<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conversaciones con Sentido</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, sans-serif;
        }
        
        body {
            background-image: url('https://images.unsplash.com/photo-1506905925346-21bda4d32df4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=2070&q=80');
            background-size: cover;
            background-position: center;
            min-height: 100vh;
            color: white;
            padding: 15px;
            display: flex;
            flex-direction: column;
        }

        .container {
            max-width: 500px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
            flex: 1;
        }

        /* HEADER */
        .header {
            background: rgba(255, 255, 255, 0.15);
            padding: 12px;
            border-radius: 10px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            text-align: center;
            height: 70px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            overflow: hidden;
        }

        .topico-titulo-header {
            font-size: 18px;
            font-weight: 600;
        }

        /* TARJETA DE PREGUNTA PRINCIPAL */
        .pregunta-container {
            background: rgba(255, 255, 255, 0.15);
            padding: 25px;
            border-radius: 12px;
            backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            text-align: center;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }

        .pregunta-texto {
            font-size: 22px;
            font-weight: 600;
            line-height: 1.4;
            padding: 10px;
        }

        /* BOTONES PRINCIPALES */
        .botones-container {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .btn-principal {
            background: #D0342C;
            color: white;
            border: none;
            padding: 18px;
            font-size: 16px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            width: 100%;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-principal:hover {
            background: #B52A23;
            transform: translateY(-2px);
        }

        .btn-dado {
            background: #27ae60;
            color: white;
            border: none;
            padding: 15px;
            font-size: 14px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            width: 100%;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-dado:hover {
            background: #219653;
            transform: translateY(-2px);
        }

        /* BOTÃ“N VOLVER */
        .btn-volver-inicio {
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.3);
            padding: 12px;
            font-size: 14px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            width: 100%;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .btn-volver-inicio:hover {
            background: rgba(255, 255, 255, 0.2);
        }

        /* ANIMACIÃ“N */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .fade-in {
            animation: fadeIn 0.5s ease;
        }

        @keyframes gentlePulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .dice-pulse {
            animation: gentlePulse 0.4s ease;
        }

        /* PIE DE PÃGINA */
        .footer {
            text-align: center;
            margin-top: 20px;
            padding: 10px;
        }

        .website-link {
            color: white;
            text-decoration: none;
            font-weight: 500;
            font-size: 14px;
            opacity: 0.8;
            transition: all 0.3s ease;
        }

        .website-link:hover {
            opacity: 1;
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- HEADER -->
        <div class="header">
            <div class="topico-titulo-header" id="topicoTituloHeader">Espiritualidad</div>
        </div>

        <!-- TARJETA DE PREGUNTA PRINCIPAL -->
        <div class="pregunta-container fade-in" id="preguntaContainer">
            <div class="pregunta-texto" id="preguntaTexto">
                Cargando pregunta...
            </div>
        </div>

        <!-- BOTONES PRINCIPALES -->
        <div class="botones-container">
            <button class="btn-principal" onclick="nuevaPregunta()">
                ğŸ”„ Siguiente Pregunta
            </button>
            
            <button class="btn-dado" onclick="lanzarDado()">
                ğŸ² Lanzar Dado
            </button>

            <button class="btn-volver-inicio" onclick="volverAlInicio()">
                â† Volver al Inicio
            </button>
        </div>

        <!-- PIE DE PÃGINA -->
        <div class="footer">
            <a href="https://www.7preguntas.com" class="website-link" target="_blank">
                www.7preguntas.com
            </a>
        </div>
    </div>

    <script>
        // VARIABLES GLOBALES
        let topicoActual = '';
        let preguntas = [];
        let preguntaIndex = 0;
        let historialPreguntas = [];

        // INICIALIZAR TÃ“PICO
        function inicializarTopico() {
            const urlParams = new URLSearchParams(window.location.search);
            topicoActual = urlParams.get('topico') || 'espiritualidad';

            console.log('Inicializando tÃ³pico:', { topicoActual });

            // Actualizar interfaz
            actualizarHeader();
            
            // Cargar preguntas del tÃ³pico
            cargarPreguntas();
            
            // Mostrar primera pregunta
            mostrarPreguntaActual();
        }

        // ACTUALIZAR HEADER
        function actualizarHeader() {
            const nombresTopicos = {
                'espiritualidad': 'Espiritualidad',
                'familia': 'Familia', 
                'amigos': 'Amigos',
                'pareja': 'Pareja',
                'padre_hijos': 'Padre/Hijos',
                'colegio': 'Colegio',
                'desarrollo_personal': 'Desarrollo Personal'
            };

            document.getElementById('topicoTituloHeader').textContent = 
                nombresTopicos[topicoActual] || topicoActual;
        }

        // CARGAR PREGUNTAS DEL TÃ“PICO
        function cargarPreguntas() {
            const bancoPreguntas = {
                'espiritualidad': [
                    "Â¿QuÃ© te da paz interior?",
                    "Â¿CÃ³mo encuentras significado en la vida?",
                    "Â¿QuÃ© creencias te guÃ­an en momentos difÃ­ciles?",
                    "Â¿QuÃ© te conecta con algo mayor que tÃº mismo?",
                    "Â¿QuÃ© prÃ¡ctica espiritual te nutre mÃ¡s?",
                    "Â¿CuÃ¡ndo te sientes mÃ¡s cerca de lo divino?",
                    "Â¿QuÃ© has aprendido sobre el perdÃ³n?",
                    "Â¿CÃ³mo defines tu propÃ³sito en la vida?",
                    "Â¿QuÃ© momento te hizo cuestionar tus creencias?",
                    "Â¿CÃ³mo practicas la gratitud en tu vida diaria?"
                ],
                'familia': [
                    "Â¿CuÃ¡l es tu recuerdo mÃ¡s valioso con tu familia?",
                    "Â¿QuÃ© tradiciÃ³n familiar te gusta mÃ¡s y por quÃ©?",
                    "Â¿QuÃ© aprendiste de tus padres que llevas contigo?",
                    "Â¿QuÃ© significa 'hogar' para ti?",
                    "Â¿QuÃ© momento familiar te ha marcado mÃ¡s?",
                    "Â¿QuÃ© cualidad admiras mÃ¡s en tu familia?",
                    "Â¿CÃ³mo ha cambiado tu concepto de familia con el tiempo?",
                    "Â¿QuÃ© consejo familiar te han dado que aÃºn recuerdas?",
                    "Â¿QuÃ© te gustarÃ­a heredar a las siguientes generaciones?",
                    "Â¿CÃ³mo defines el amor familiar?"
                ],
                'amigos': [
                    "Â¿QuÃ© hace a una amistad verdadera?",
                    "Â¿CuÃ¡l es el mejor consejo que un amigo te ha dado?",
                    "Â¿QuÃ© momento con amigos nunca olvidarÃ¡s?",
                    "Â¿CÃ³mo mantienes vivas las amistades a distancia?",
                    "Â¿QuÃ© has aprendido de tus amigos?",
                    "Â¿QuÃ© cualidad valoras mÃ¡s en un amigo?",
                    "Â¿CÃ³mo superaron un conflicto con un amigo?",
                    "Â¿QuÃ© actividad disfrutan mÃ¡s con amigos?",
                    "Â¿CÃ³mo conociste a tu mejor amigo?",
                    "Â¿QuÃ© significa la lealtad en la amistad?"
                ],
                'pareja': [
                    "Â¿QuÃ© valoras mÃ¡s en una relaciÃ³n de pareja?",
                    "Â¿CÃ³mo construyes y mantienes la confianza?",
                    "Â¿QuÃ© has aprendido del amor?",
                    "Â¿QuÃ© hace especial una relaciÃ³n duradera?",
                    "Â¿CÃ³mo manejas los conflictos en la relaciÃ³n?",
                    "Â¿QuÃ© momento romÃ¡ntico recuerdas con mÃ¡s cariÃ±o?",
                    "Â¿CÃ³mo mantienen viva la pasiÃ³n con el tiempo?",
                    "Â¿QuÃ© cualidad admiras mÃ¡s en tu pareja?",
                    "Â¿CÃ³mo se apoyan mutuamente en momentos difÃ­ciles?",
                    "Â¿QuÃ© significa el compromiso para ti?"
                ],
                'padre_hijos': [
                    "Â¿QuÃ© te gusta mÃ¡s de ser padre/hijo?",
                    "Â¿QuÃ© valor quieres transmitir a tus hijos/padres?",
                    "Â¿CÃ³mo describirÃ­as tu relaciÃ³n familiar?",
                    "Â¿QuÃ© consejo sobre familia darÃ­as a otros?",
                    "Â¿QuÃ© momento con tus hijos/padres atesoras mÃ¡s?",
                    "Â¿QuÃ© has aprendido de tus hijos/padres?",
                    "Â¿CÃ³mo manejas los desafÃ­os de la paternidad/filial?",
                    "Â¿QuÃ© tradiciÃ³n familiar crearon juntos?",
                    "Â¿QuÃ© sueÃ±as para el futuro de tu familia?",
                    "Â¿CÃ³mo equilibran lo individual y lo familiar?"
                ],
                'colegio': [
                    "Â¿QuÃ© maestro recuerdas con mÃ¡s cariÃ±o y por quÃ©?",
                    "Â¿QuÃ© aprendiste en la escuela que aÃºn usas hoy?",
                    "Â¿QuÃ© experiencia escolar marcÃ³ tu vida?",
                    "Â¿QuÃ© recuerdo escolar te hace sonreÃ­r?",
                    "Â¿QuÃ© amistad escolar influyÃ³ en quien eres hoy?",
                    "Â¿QuÃ© materia te apasionaba mÃ¡s?",
                    "Â¿CÃ³mo enfrentaste los desafÃ­os acadÃ©micos?",
                    "Â¿QuÃ© actividad extracurricular disfrutabas?",
                    "Â¿QuÃ© consejo le darÃ­as a tu yo estudiante?",
                    "Â¿CÃ³mo la escuela moldeÃ³ tu personalidad?"
                ],
                'desarrollo_personal': [
                    "Â¿QuÃ© meta personal te emociona actualmente?",
                    "Â¿QuÃ© hÃ¡bito mejorÃ³ significativamente tu vida?",
                    "Â¿QuÃ© te gustarÃ­a aprender este aÃ±o?",
                    "Â¿CÃ³mo superas tus miedos mÃ¡s grandes?",
                    "Â¿QuÃ© miedo has vencido recientemente?",
                    "Â¿QuÃ© libro o persona te inspirÃ³ a cambiar?",
                    "Â¿CÃ³mo manejas el fracaso y el aprendizaje?",
                    "Â¿QuÃ© prÃ¡ctica diaria te mantiene enfocado?",
                    "Â¿CÃ³mo defines el Ã©xito personal?",
                    "Â¿QuÃ© lecciÃ³n de vida repetirÃ­as a otros?"
                ]
            };

            preguntas = bancoPreguntas[topicoActual] || bancoPreguntas.espiritualidad;
            
            // Mezclar preguntas para variedad
            preguntas = mezclarArray([...preguntas]);
        }

        // NUEVA PREGUNTA
        function nuevaPregunta() {
            if (preguntas.length === 0) {
                cargarPreguntas(); // Recargar si se acaban
            }

            // Guardar pregunta actual en historial
            if (preguntaIndex < preguntas.length) {
                historialPreguntas.push(preguntas[preguntaIndex]);
            }

            // Avanzar al siguiente Ã­ndice
            preguntaIndex++;
            
            // Si llegamos al final, volver a mezclar y reiniciar
            if (preguntaIndex >= preguntas.length) {
                preguntaIndex = 0;
                preguntas = mezclarArray([...preguntas]);
            }

            mostrarPreguntaActual();
        }

        // LANZAR DADO - ALEATORIZAR PREGUNTAS
        function lanzarDado() {
            // Aplicar animaciÃ³n suave al botÃ³n
            const btnDado = document.querySelector('.btn-dado');
            btnDado.classList.add('dice-pulse');
            
            // Mezclar preguntas completamente
            preguntas = mezclarArray([...preguntas]);
            preguntaIndex = 0;
            
            // Mostrar nueva pregunta aleatoria
            mostrarPreguntaActual();
            
            // Quitar animaciÃ³n despuÃ©s de completar
            setTimeout(() => {
                btnDado.classList.remove('dice-pulse');
            }, 400);
        }

        // MOSTRAR PREGUNTA ACTUAL
        function mostrarPreguntaActual() {
            if (preguntas.length > 0 && preguntaIndex < preguntas.length) {
                document.getElementById('preguntaTexto').textContent = preguntas[preguntaIndex];
                
                // Efecto visual
                document.getElementById('preguntaContainer').classList.remove('fade-in');
                void document.getElementById('preguntaContainer').offsetWidth;
                document.getElementById('preguntaContainer').classList.add('fade-in');
            }
        }

        // MEZCLAR ARRAY (algoritmo Fisher-Yates)
        function mezclarArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        // VOLVER AL INICIO
        function volverAlInicio() {
            window.location.href = 'index.html';
        }

        // INICIALIZAR AL CARGAR
        document.addEventListener('DOMContentLoaded', inicializarTopico);

        // TECLAS RÃPIDAS
        document.addEventListener('keydown', function(e) {
            if (e.key === 'ArrowRight' || e.key === ' ' || e.key === 'Enter') {
                nuevaPregunta();
            } else if (e.key === 'd' || e.key === 'D') {
                lanzarDado();
            } else if (e.key === 'Escape') {
                volverAlInicio();
            }
        });
    </script>
</body>
</html>